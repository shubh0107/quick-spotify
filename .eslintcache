[{"/Users/shubham/dev/quick-spotify/src/reportWebVitals.js":"1","/Users/shubham/dev/quick-spotify/src/App.js":"2","/Users/shubham/dev/quick-spotify/src/index.js":"3","/Users/shubham/dev/quick-spotify/src/SpotifyService.js":"4","/Users/shubham/dev/quick-spotify/src/hooks/useLocalStorage.js":"5","/Users/shubham/dev/quick-spotify/src/pages/utilities/constants.js":"6","/Users/shubham/dev/quick-spotify/src/pages/Login.js":"7","/Users/shubham/dev/quick-spotify/src/pages/Home.js":"8","/Users/shubham/dev/quick-spotify/src/components/index.js":"9","/Users/shubham/dev/quick-spotify/src/components/Button.js":"10","/Users/shubham/dev/quick-spotify/src/components/Modal.js":"11","/Users/shubham/dev/quick-spotify/src/components/Header.js":"12","/Users/shubham/dev/quick-spotify/src/components/selectedTrack.js":"13"},{"size":362,"mtime":1607720098482,"results":"14","hashOfConfig":"15"},{"size":816,"mtime":1616182691929,"results":"16","hashOfConfig":"15"},{"size":500,"mtime":1607720098482,"results":"17","hashOfConfig":"15"},{"size":270,"mtime":1607758139844,"results":"18","hashOfConfig":"15"},{"size":494,"mtime":1607843932365,"results":"19","hashOfConfig":"15"},{"size":1939,"mtime":1617645585607,"results":"20","hashOfConfig":"15"},{"size":2911,"mtime":1616182691934,"results":"21","hashOfConfig":"15"},{"size":10107,"mtime":1617647514388,"results":"22","hashOfConfig":"15"},{"size":194,"mtime":1617645585605,"results":"23","hashOfConfig":"15"},{"size":385,"mtime":1608748806088,"results":"24","hashOfConfig":"15"},{"size":3915,"mtime":1617645585604,"results":"25","hashOfConfig":"15"},{"size":666,"mtime":1616182691932,"results":"26","hashOfConfig":"15"},{"size":4375,"mtime":1617645819084,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1os3mv1",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"30"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"30"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"30"},"/Users/shubham/dev/quick-spotify/src/reportWebVitals.js",[],["58","59"],"/Users/shubham/dev/quick-spotify/src/App.js",[],"/Users/shubham/dev/quick-spotify/src/index.js",[],"/Users/shubham/dev/quick-spotify/src/SpotifyService.js",[],"/Users/shubham/dev/quick-spotify/src/hooks/useLocalStorage.js",[],"/Users/shubham/dev/quick-spotify/src/pages/utilities/constants.js",[],"/Users/shubham/dev/quick-spotify/src/pages/Login.js",["60","61","62","63","64","65"],"import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { parse, stringifyUrl, stringify } from 'query-string';\nimport {\n  AUTHORIZATION_URL,\n  STATE,\n  ACCESS_TOKEN_ENDPOINT,\n  AUTHORIZATION_QUERY_2\n} from './utilities/constants';\nimport useLocalStorage from '../hooks/useLocalStorage';\nimport { Button } from '../components';\nimport { ReactComponent as Music } from '../assets/music.svg';\n\nconst Login = props => {\n  const [userData, setUserData] = useState(undefined);\n  const [accessToken, setAccessToken] = useLocalStorage('accessToken', '');\n  const [callingAuthApi, setCallingAuthApi] = useState(false);\n  let history = useHistory();\n  // const location = useLocation();\n  // console.log('shubham login location: ', location)\n  if (accessToken !== '') {\n    history.push('/home');\n  }\n\n  const callSpotifyAuthApi = () => {\n    setCallingAuthApi(true);\n    const finalAuthUrl = stringifyUrl({\n      url: AUTHORIZATION_URL,\n      query: AUTHORIZATION_QUERY_2\n    });\n    window.location.href = finalAuthUrl;\n  }\n\n  useEffect(() => {\n    const parsedUrl = parse(window.location.hash);\n    if (parsedUrl.state === STATE) {\n      if (parsedUrl.error) {\n        setCallingAuthApi(false);\n      } else {\n        let accessToken = parsedUrl.access_token;\n        setAccessToken(accessToken);\n      }\n    } else {\n      // setCallingAuthApi(false);\n    }\n  }, [setAccessToken, setCallingAuthApi]);\n\n\n  // function getAccessToken(queryForToken) {\n  //   axios.post(ACCESS_TOKEN_ENDPOINT, stringify(queryForToken)).then(res => {\n  //     setAccessToken(res.data.access_token);\n  //     // setIsAuthenticated(res.data);\n  //   }).catch(err => {\n  //     console.log('ERROR: ', err);\n  //   })\n  // }\n\n  if (accessToken === '') {\n    return (\n      <div className=\"h-screen flex items-center justify-center bg-gray-900\">\n        <div className=\"h-full w-2/3 flex flex-col items-center justify-between py-8 px-6\">\n          <div className=\"text-green-500 text-6xl font-mono\">Quick Spotify</div>\n          <Music />\n        </div>\n        <Button onClick={callSpotifyAuthApi} classes=\"h-full w-1/3 flex items-center justify-center border-t-0 border-b-0 border-r-0 text-3xl\">\n          <span className=\"animate-bounce\">Login</span>\n          {callingAuthApi &&\n            <svg class=\"animate-spin text-white h-6 w-6 ml-2\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n              <path class=\"opacity-75\" fill=\"#111927\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n          }\n        </Button>\n      </div >\n    )\n  }\n\n  return '';\n\n}\n\nexport default Login;","/Users/shubham/dev/quick-spotify/src/pages/Home.js",["66","67","68","69","70"],"/Users/shubham/dev/quick-spotify/src/components/index.js",[],"/Users/shubham/dev/quick-spotify/src/components/Button.js",[],"/Users/shubham/dev/quick-spotify/src/components/Modal.js",[],"/Users/shubham/dev/quick-spotify/src/components/Header.js",["71"],"import { Button } from '../components';\nimport useLocalStorage from '../hooks/useLocalStorage';\nimport { useHistory } from 'react-router-dom';\n\n\nconst Header = props => {\n  const [accessToken, setAccessToken] = useLocalStorage('accessToken');\n  let history = useHistory();\n\n  async function logout() {\n    await setAccessToken('');\n    history.push('/');\n  }\n\n  return <header className=\"flex justify-between h-full sticky top-0 px-6 py-4 z-30 bg-gray-900 border-b border-green-500\">\n    <h1 className=\"text-3xl text-green-500 font-mono\">Quick Spotify</h1>\n    <Button onClick={logout} classes=\"\">\n      Logout\n    </Button>\n  </header>\n\n\n}\n\n\n\nexport default Header;","/Users/shubham/dev/quick-spotify/src/components/selectedTrack.js",["72"],"import React, { useRef, useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport SpotifyService from '../SpotifyService';\n\n\nconst Close = props => {\n  return <svg {...props} fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" /></svg>\n}\n\nconst SelectedTrack = ({ selectedTrack, setSelectedTrack, setCurrentTrack, accessToken }) => {\n  const spotify = useRef(null);\n  spotify.current = new SpotifyService(accessToken);\n  const { id, album, name, artists } = selectedTrack;\n  const [artistTracks, setArtistTracks] = useState(null);\n  const { images } = album;\n\n\n  console.log('shubham: selected track: ', selectedTrack)\n\n\n  useEffect(() => {\n    spotify.current.spotifyApi.getArtistTopTracks(artists[0].id, 'IN').then(resp => {\n      console.log('shubham TRACKS RESPONSE: ', resp);\n      if (resp.tracks)\n        setArtistTracks(resp.tracks);\n    }).catch(err => {\n      console.log('Error: ', err);\n    })\n\n    // return () => {\n    //   cleanup\n    // }\n  }, [])\n\n\n  const artistName = artists.reduce(((completeName, artist, index) => {\n    if (index === artists.length - 1 && artists.length > 1) {\n      completeName += ' & ';\n    } else {\n      completeName += index !== 0 ? ', ' : '';\n    }\n    return completeName += ` ${artist.name}`\n  }), '');\n\n  return (\n    <motion.div\n      className=\"z-10 fixed top-16 w-full h-full p-8 bg-transparent text-white\"\n      layoutId={`selected-track-parent-${selectedTrack.id}`}\n    >\n      <Close\n        className=\"text-white w-6 h-6 float-right cursor-pointer -mt-4 right-2 fixed\"\n        onClick={() => { setSelectedTrack(null); }}\n      />\n\n      <div className=\"grid grid-cols-2 gap-x-4\">\n\n        <motion.div className=\"w-full z-20\"\n          key={`small-preview-${id}`}\n          layoutId={`selected-track-image-${id}`}\n        >\n          <img src={images[0].url} alt={name} className=\"w-full\" />\n        </motion.div>\n\n        <div className=\"px-4\">\n          <motion.h2\n            className=\"inline-flex text-4xl leading-tight\"\n            layoutId={`selected-track-name-${id}`}\n          >\n            {name}\n          </motion.h2>\n          <br />\n          <motion.h3\n            className=\"inline-flex text-md italic\"\n            layoutId={`selected-track-artist-name-${id}`}\n          >\n            {artistName}\n          </motion.h3>\n          <br />\n\n\n          {artistTracks ?\n            <div className=\"mt-2\">\n              <h3 className=\"text-md leading-none mt-6 mb-3\">\n                Top Tracks for <span className=\"text-green-500\">{artistName}</span> -\n              </h3>\n              <ArtistTracks tracks={artistTracks} />\n            </div>\n            : ''\n          }\n        </div>\n\n      </div>\n    </motion.div>\n\n  )\n}\n\n\nexport default SelectedTrack;\n\nconst variants = {\n  hidden: i => ({\n    opacity: 0,\n    height: 0,\n    // marginTop: 0,\n    y: -30\n  }),\n  visible: i => ({\n    opacity: 1,\n    height: '100%',\n    // minHeight: 'auto',\n    // marginTop: 10,\n    y: 0,\n    transition: {\n      delay: i * 0.1,\n      // staggerChildren: 0.3,\n      duration: 0.3\n    },\n    // exit: {\n    //     opacity: 0,\n    //     y: -\n    // }\n  }),\n}\n\nconst ArtistTracks = ({ tracks }) => {\n\n\n  return (\n    <motion.ul className=\"flex flex-0 flex-col\">\n      <AnimatePresence>\n        {tracks.map((track, index) => (\n          <Track track={track} i={index} />\n        ))}\n      </AnimatePresence>\n    </motion.ul>\n  )\n}\n\n\n\nconst Track = ({ track, i }) => {\n  const { name, album: { images } } = track;\n  // console.log('ALBUM: ', album)\n  return (\n    <motion.li\n      className=\"inline-flex flex-shrink-0 items-center bg-gray-900 overflow-hidden h-full pt-4\"\n      custom={i}\n      initial=\"hidden\"\n      animate=\"visible\"\n      variants={variants}\n      exit=\"hidden\"\n      key={`{$name}-${i}`\n      }\n      style={{ zIndex: 10 - i, paddingTop: i === 0 ? 0 : '' }}\n    >\n      <motion.div className=\"w-10 h-10\">\n        <img src={images[1].url} alt={name} className=\"rounded-full\" />\n      </motion.div>\n      <motion.div className=\"pl-4\">\n        {name}\n      </motion.div>\n    </motion.li >\n  )\n}",{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":2,"column":8,"nodeType":"79","messageId":"80","endLine":2,"endColumn":13},{"ruleId":"77","severity":1,"message":"81","line":3,"column":22,"nodeType":"79","messageId":"80","endLine":3,"endColumn":33},{"ruleId":"77","severity":1,"message":"82","line":4,"column":31,"nodeType":"79","messageId":"80","endLine":4,"endColumn":40},{"ruleId":"77","severity":1,"message":"83","line":8,"column":3,"nodeType":"79","messageId":"80","endLine":8,"endColumn":24},{"ruleId":"77","severity":1,"message":"84","line":16,"column":10,"nodeType":"79","messageId":"80","endLine":16,"endColumn":18},{"ruleId":"77","severity":1,"message":"85","line":16,"column":20,"nodeType":"79","messageId":"80","endLine":16,"endColumn":31},{"ruleId":"77","severity":1,"message":"86","line":25,"column":10,"nodeType":"79","messageId":"80","endLine":25,"endColumn":19},{"ruleId":"77","severity":1,"message":"87","line":25,"column":21,"nodeType":"79","messageId":"80","endLine":25,"endColumn":33},{"ruleId":"77","severity":1,"message":"88","line":146,"column":9,"nodeType":"79","messageId":"80","endLine":146,"endColumn":21},{"ruleId":"77","severity":1,"message":"89","line":160,"column":11,"nodeType":"79","messageId":"80","endLine":160,"endColumn":13},{"ruleId":"77","severity":1,"message":"90","line":184,"column":21,"nodeType":"79","messageId":"80","endLine":184,"endColumn":25},{"ruleId":"77","severity":1,"message":"91","line":33,"column":9,"nodeType":"79","messageId":"80","endLine":33,"endColumn":16},{"ruleId":"92","severity":1,"message":"93","line":33,"column":6,"nodeType":"94","endLine":33,"endColumn":8,"suggestions":"95"},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","'useLocation' is defined but never used.","'stringify' is defined but never used.","'ACCESS_TOKEN_ENDPOINT' is defined but never used.","'userData' is assigned a value but never used.","'setUserData' is assigned a value but never used.","'openModal' is assigned a value but never used.","'setOpenModal' is assigned a value but never used.","'currentAudio' is assigned a value but never used.","'id' is assigned a value but never used.","'name' is assigned a value but never used.","'spotify' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'artists'. Either include it or remove the dependency array.","ArrayExpression",["98"],"no-global-assign","no-unsafe-negation",{"desc":"99","fix":"100"},"Update the dependencies array to be: [artists]",{"range":"101","text":"102"},[1268,1270],"[artists]"]